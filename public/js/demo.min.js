$(document).ready(function(){$(".example-menu").magicMenu({moreHtml:"Ещё...",name:"magicMenu1"}),$(".example-menu2").magicMenu({name:"magicMenu2"})}),function(e){"use strict";var t={};t=function(){function t(t,n){var i=this;i.$menu=e(t),i.options=i.setOptions(n),i.init(),i.match(),i.initEvents()}return t}(),t.prototype.setOptions=function(e){var t=this;return t.name=e.name||"default",t.moreHtml=e.moreHtml||"More...",t},t.prototype.init=function(){var t=this;t.$item=t.$menu.children(),t.$link=t.$item.children("a"),t.$menu.addClass("magic-menu"),t.$item.addClass("magic-menu__item"),t.$link.addClass("magic-menu__link"),t.$moreMenu="";var n=t.$item.last(),i=n.clone();i.addClass("magic-menu__item_more").children("a").html(t.options.moreHtml),n.after(i),i.append('<ul class="magic-menu__more-menu"></ul>'),t.$moreMenu=i.find(".magic-menu__more-menu"),t.$itemMore=t.$item.last().next(),t.$item=t.$item.not(".magic-menu__item_more"),t.$item.each(function(){var n=e(this).clone();n.removeClass("magic-menu__item").children("a"),t.$moreMenu.append(n)})},t.prototype.match=function(){var t=this,n=t.$menu.outerWidth(),i=t.$moreMenu.children("li"),m=t.$item,o=t.$itemMore,a=0,r=m.length-1,u=0;m.each(function(){a+=e(this).outerWidth(),e(this).data("width",e(this).outerWidth())}),a+=o.outerWidth();for(var s=r;s>=0;s--)u+=m.eq(s).outerWidth(),a-u+m.eq(s).outerWidth()>=n?(m.eq(s).hide(),i.eq(s).show()):(m.eq(s).show(),i.eq(s).hide()),m.is(":hidden")?o.show():o.hide()},t.prototype.initEvents=function(){var t=this,n=e(window);n.on("resize",function(){t.match()})},e.fn.magicMenu=function(e){var n,i=this,m=e,o=i.length;if(o)for(n=0;n<o;n++)i[n].menu=new t(i[n],m);else console.error("no elements");return i}}($);